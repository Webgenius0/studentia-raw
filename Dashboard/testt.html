<!DOCTYPE html>
<html lang="en" class="dark">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Revision Tools</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body { background-color: #1C202B; color: #F9F9F9; font-family: sans-serif; }
        .main-tab-trigger.active { background-image: linear-gradient(to bottom, #6049BC, #D24AC9); color: white; }
        .side-tab-trigger.active { background-image: linear-gradient(to bottom, #7A43A4, #6049BC); color: white; }
        .quiz-option.selected { background-image: linear-gradient(to right, #a855f7, #6366f1); border-color: transparent; color: white; }
        
        /* Corrected Flashcard flip animation */
        .flashcard { perspective: 1000px; }
        .flashcard-inner { position: relative; width: 100%; height: 100%; transition: transform 0.6s; transform-style: preserve-3d; }
        .flashcard.is-flipped .flashcard-inner { transform: rotateY(180deg); }
        .flashcard-face { position: absolute; width: 100%; height: 100%; -webkit-backface-visibility: hidden; backface-visibility: hidden; display: flex; align-items: center; justify-content: center; padding: 1.5rem; border-radius: 0.75rem; }
        .flashcard-back { transform: rotateY(180deg); }
        
        .gradient-scrollbar::-webkit-scrollbar { width: 8px; }
        .gradient-scrollbar::-webkit-scrollbar-track { background: transparent; }
        .gradient-scrollbar::-webkit-scrollbar-thumb { background-image: linear-gradient(to bottom, #7A43A4, #6049BC); border-radius: 10px; }
    </style>
</head>
<body>

    <div class="flex flex-col lg:flex-row gap-5 min-h-screen w-full p-4">

        <div class="w-full lg:w-1/2 flex flex-col gap-4">
             </div>

        <div class="w-full lg:w-1/2 flex flex-col gap-5 h-full">
            <div id="side-tabs-list" class="flex flex-wrap gap-6 bg-[#10122e] shadow-lg py-5 px-6 w-full rounded-[20px]">
                <button data-tab="chat" class="side-tab-trigger active px-7 py-[14px] flex items-center gap-2 rounded-[20px] border border-[#7A43A4]"><img src="./assets/images/icons/chat.svg" /><p class="font-medium text-[#F9F9F9]">Chat</p></button>
                <button data-tab="note-taking" class="side-tab-trigger px-7 py-[14px] flex items-center gap-2 rounded-[20px] border border-[#7A43A4]"><img src="./assets/images/icons/note-taking.svg" /><p class="font-medium text-[#F9F9F9]">Note-taking</p></button>
                <button data-tab="quiz-yourself" class="side-tab-trigger px-7 py-[14px] flex items-center gap-2 rounded-[20px] border border-[#7A43A4]"><img src="./assets/images/icons/quiz-yourself.svg" /><p class="font-medium text-[#F9F9F9]">Quiz Yourself</p></button>
                <button data-tab="summary" class="side-tab-trigger px-7 py-[14px] flex items-center gap-2 rounded-[20px] border border-[#7A43A4]"><img src="./assets/images/icons/summary.svg" /><p class="font-medium text-[#F9F9F9]">Summary</p></button>
                <button data-tab="flashcards" class="side-tab-trigger px-7 py-[14px] flex items-center gap-2 rounded-[20px] border border-[#7A43A4]"><img src="./assets/images/icons/flashcards.svg" /><p class="font-medium text-[#F9F9F9]">Flashcards</p></button>
            </div>
            
            <div id="side-tabs-content" class="flex-grow">
                <div id="chat-content" class="side-tab-content bg-[#1C202B] shadow-[2px_11px_40px_0px_rgba(114,75,150,0.32)] rounded-[16px] h-full p-6">
                    <div id="chat-start-view" class="flex flex-col items-center justify-center gap-4 h-full">
                        <div id="start-chat-button" class="cursor-pointer rounded-[16px] border border-[#D24AC966] px-[54px] py-[32px]"><img src="./assets/images/icons/chat-with-ai.svg" /></div>
                        <p class="text-[40px] font-medium text-center text-[#F9F9F9]">Chat With AI</p>
                    </div>
                    <div id="chat-active-view" class="hidden relative flex flex-col h-[75vh] justify-between">
                        <div class="flex items-center justify-between z-10"><div class="flex items-center gap-2"><img src="./assets/images/icons/chat-icon.svg" /><p class="text-lg font-medium">Chat With AI</p></div><button id="chat-refresh-btn"><img src="./assets/images/icons/refresh-icon.svg" /></button></div>
                        <div class="rounded-[16px] border border-[#D24AC966] p-5 w-max mx-auto absolute top-[30%] left-1/2 transform -translate-x-1/2 z-0 opacity-50"><img src="./assets/images/icons/chat-with-ai.svg" class="w-20 h-20" /></div>
                        <div id="chat-messages-container" class="z-10 flex flex-col gap-5 flex-grow overflow-y-auto gradient-scrollbar my-4 h-[400px]"></div>
                        <form id="chat-form" class="z-10 rounded-[16px] border border-[#7A43A44D] p-3 flex flex-col gap-6">
                            <textarea id="chat-input" placeholder="What do you want to ask?" class="w-full text-lg bg-transparent text-[#BCBCBC] border-none outline-none focus:ring-0 resize-none h-10" rows="1"></textarea>
                            <div class="flex items-center justify-between">
                                <div class="flex items-center gap-3"><div class="p-3 rounded-full border border-[#7A43A4] cursor-pointer"><img src="./assets/images/icons/upload-icon.svg" /></div><div class="p-3 rounded-full border border-[#7A43A4] cursor-pointer"><img src="./assets/images/icons/microphone-icon.svg" /></div></div>
                                <button type="submit" id="chat-send-btn" class="flex items-center gap-1 bg-purple-600 text-white font-semibold py-2 px-4 rounded-lg disabled:opacity-50"><p>Send</p><img src="./assets/images/icons/send.svg" /></button>
                            </div>
                        </form>
                    </div>
                </div>
                <div id="note-taking-content" class="side-tab-content hidden bg-[#1C202B] shadow-[2px_11px_40px_0px_rgba(114,75,150,0.32)] rounded-[16px] h-full p-6 space-y-4">
                    <div class="flex justify-between items-center w-full">
                        <div class="flex items-center gap-2"><img src="./assets/images/icons/note-taking-icon.svg" /><span class="text-sm">Note Title</span></div>
                        <div class="flex gap-3 text-purple-400"><button id="add-note-btn"><svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4"></path></svg></button></div>
                    </div>
                    <div class="border-b border-purple-700"></div>
                    <input id="note-title-input" type="text" placeholder="Title Goes Here..." class="bg-transparent focus:outline-none text-lg w-full" />
                    <div id="notes-list-container" class="space-y-3 h-[60vh] overflow-y-auto"></div>
                </div>
                <div id="quiz-yourself-content" class="side-tab-content hidden bg-[#1C202B] shadow-[2px_11px_40px_0px_rgba(114,75,150,0.32)] rounded-[16px] h-full p-6">
                    <div id="quiz-component">
                        <div id="quiz-form-screen" class="w-full bg-transparent p-4 rounded-2xl">
                            <div class="space-y-6">
                                <div class="text-xl font-semibold text-center flex justify-center items-center gap-2"><img src="./assets/images/icons/quiz-yourself.svg" />Quiz Yourself</div>
                                <div class="space-y-2"><label>Generate Quiz about...</label><textarea placeholder="Enter your topic..." class="w-full bg-[#2c2c3e] border-none rounded-md p-2 h-24"></textarea></div>
                                <div class="space-y-2"><label>Number of Cards</label><select class="w-full bg-[#2c2c3e] border-none rounded-md p-2"><option>10</option><option>15</option><option>20</option></select></div>
                                <button id="generate-quiz-btn" class="w-full bg-[#5b5bb0] hover:bg-[#6c6cd9] text-white py-3 rounded-lg font-semibold">Generate Question</button>
                            </div>
                        </div>
                        <div id="quiz-loading-screen" class="hidden"><div class="flex flex-col justify-center items-center h-full py-10"><div class="flex items-center gap-3"><div class="w-4 h-4 rounded-full bg-purple-400 animate-bounce [animation-delay:.1s]"></div><div class="w-4 h-4 rounded-full bg-purple-500 animate-bounce [animation-delay:.2s]"></div><div class="w-4 h-4 rounded-full bg-purple-600 animate-bounce [animation-delay:.3s]"></div></div><p class="mt-6 text-lg font-medium">Generating Your Quiz...</p></div></div>
                        <div id="quiz-active-screen" class="hidden">
                            <div class="flex items-center gap-2 w-full" id="quiz-stepper"></div>
                            <div id="quiz-questions-container" class="mt-6">
                                <div class="quiz-question-container" data-question-index="0" data-correct-answer="Paris"><div class="text-xl font-semibold tracking-tight">Question 1 of 5</div><div class="text-lg font-medium leading-relaxed mt-4">What is the capital of France?</div><div class="flex flex-col gap-4 mt-4"><button data-option="Paris" class="quiz-option px-4 py-3 rounded-xl text-left border border-[#444] hover:bg-[#2c2c2c]">Paris</button><button data-option="Berlin" class="quiz-option px-4 py-3 rounded-xl text-left border border-[#444] hover:bg-[#2c2c2c]">Berlin</button><button data-option="Madrid" class="quiz-option px-4 py-3 rounded-xl text-left border border-[#444] hover:bg-[#2c2c2c]">Madrid</button><button data-option="London" class="quiz-option px-4 py-3 rounded-xl text-left border border-[#444] hover:bg-[#2c2c2c]">London</button></div></div>
                                <div class="quiz-question-container hidden" data-question-index="1" data-correct-answer="True"><div class="text-xl font-semibold tracking-tight">Question 2 of 5</div><div class="text-lg font-medium leading-relaxed mt-4">React is a JavaScript library for building UI. True or False?</div><div class="flex flex-col gap-4 mt-4"><button data-option="True" class="quiz-option px-4 py-3 rounded-xl text-left border border-[#444] hover:bg-[#2c2c2c]">True</button><button data-option="False" class="quiz-option px-4 py-3 rounded-xl text-left border border-[#444] hover:bg-[#2c2c2c]">False</button></div></div>
                            </div>
                            <div class="flex justify-between gap-4 pt-6"><button id="quiz-prev-btn" class="w-full py-4 rounded-xl border border-[#7A43A4] disabled:opacity-50">Previous</button><button id="quiz-next-btn" class="w-full py-4 rounded-xl bg-gradient-to-b from-[#7A43A4] to-[#6049BC]">Next</button></div>
                        </div>
                        <div id="quiz-result-screen" class="hidden text-center">
                            <h2 class="text-3xl font-bold mt-4">Congratulations</h2>
                            <div class="flex justify-between items-center gap-3 mt-10 rounded-xl border border-[#7A43A4] p-6 w-full">
                                <div class="text-left"><h1 class="font-semibold">Student IA</h1><p>Question Feedback</p></div>
                                <div><p id="quiz-score-display" class="w-14 h-14 rounded-full p-2 border-2 text-xs border-purple-400 flex items-center justify-center"></p></div>
                            </div>
                            <div class="flex gap-5 items-center justify-center mt-10"><button id="restart-quiz-btn" class="bg-gradient-to-b from-[#7A43A4] to-[#6049BC] px-6 py-4 rounded-lg">Restart Quiz</button></div>
                        </div>
                    </div>
                </div>
                <div id="summary-content" class="side-tab-content hidden bg-[#1C202B] shadow-[2px_11px_40px_0px_rgba(114,75,150,0.32)] rounded-[16px] h-full p-6 flex flex-col gap-6">
                    <div class="flex items-center gap-2"><img src="./assets/images/icons/summary-icon.svg" /><p class="text-2xl font-medium">Summary</p></div>
                    <div id="summary-accordion-container" class="w-full space-y-2 h-[65vh] overflow-y-auto">
                        <div class="accordion-item border border-[#36393B] rounded-lg bg-gradient-to-br from-[#2B2B5C]/30 to-[#1A1A3C]/30"><button class="accordion-trigger text-left w-full p-4 flex justify-between items-center"><div class="flex flex-col gap-2 text-left"><p class="font-medium text-[#BCBCBC]">Page 1</p><p class="text-lg font-medium">What is Student-IA and how does it work?</p></div><svg class="w-5 h-5 transition-transform flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg></button><div class="accordion-content hidden p-4 pt-0"><div class="w-[95%] mx-auto border-t border-[#36393B] mb-4"></div><p class="whitespace-pre-line text-gray-300">An intelligent educational assistant, Student-IA is a digital tool that helps students solve problems, write content, and better understand their courses.</p></div></div>
                        <div class="accordion-item border border-[#36393B] rounded-lg bg-gradient-to-br from-[#2B2B5C]/30 to-[#1A1A3C]/30"><button class="accordion-trigger text-left w-full p-4 flex justify-between items-center"><div class="flex flex-col gap-2 text-left"><p class="font-medium text-[#BCBCBC]">Page 2</p><p class="text-lg font-medium">How can Student-IA help me improve my academic results?</p></div><svg class="w-5 h-5 transition-transform flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg></button><div class="accordion-content hidden p-4 pt-0"><div class="w-[95%] mx-auto border-t border-[#36393B] mb-4"></div><p class="whitespace-pre-line text-gray-300">By providing instant, personalized help, Student-IA allows you to overcome obstacles quickly and reinforce your understanding of key concepts.</p></div></div>
                    </div>
                </div>
                <div id="flashcards-content" class="side-tab-content hidden bg-[#1C202B] shadow-[2px_11px_40px_0px_rgba(114,75,150,0.32)] rounded-[16px] h-full p-6">
                    <div id="flashcard-step-1" class="w-full">
                        <div class="flex items-center justify-between mb-8"><div class="flex items-center gap-2"><img src="./assets/images/icons/flashcards-icon.svg" /><p class="text-lg font-medium">Flashcards</p></div><button><img src="./assets/images/icons/refresh-icon.svg" /></button></div>
                        <div class="mb-4"><label class="block mb-2">Generate Flashcard about...</label><textarea rows="5" class="w-full px-4 py-2 border rounded-lg bg-[#2c2c3e] border-[#4A5568] focus:outline-none focus:ring-2 focus:ring-purple-500" placeholder="Enter topic"></textarea></div>
                        <div class="mb-6"><label class="block mb-2">Number of Cards</label><input type="number" value="10" class="w-full px-4 py-2 border rounded-lg bg-[#2c2c3e] border-[#4A5568] focus:outline-none focus:ring-2 focus:ring-purple-500" /></div>
                        <button id="generate-flashcards-btn" class="w-full bg-gradient-to-b from-[#7A43A4] to-[#6049BC] text-white font-bold py-3 px-4 rounded-lg">Generate Flash Cards</button>
                    </div>
                    <div id="flashcard-step-2" class="hidden w-full h-full flex flex-col justify-center items-center">
                        <div id="flashcard-flipper" class="flashcard w-full h-80 cursor-pointer">
                            <div class="flashcard-inner">
                                <div class="flashcard-face flashcard-front bg-[#1B2237]"><p class="text-xl text-center">What Is The Color Of Your Dashboard?</p></div>
                                <div class="flashcard-back bg-gradient-to-b from-[rgba(122,67,164,0.35)] to-[rgba(96,73,188,0.35)]"><p class="text-xl text-center">Blue</p></div>
                            </div>
                        </div>
                        <p class="w-full rounded-b-[12px] bg-[rgba(210,74,201,0.40)] text-center text-white py-3 mb-6">Click On The Card To Flip It</p>
                        <div class="flex justify-between w-full"><button id="flashcard-prev-btn" class="py-2 px-6 rounded-lg border border-[#7A43A4] text-white disabled:opacity-50" disabled>Previous</button><button id="flashcard-next-btn" class="py-2 px-6 bg-gradient-to-b from-[#7A43A4] to-[#6049BC] text-white rounded-lg">Next</button></div>
                    </div>
                </div>
                </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/dayjs@1/dayjs.min.js"></script>
    <script>
    document.addEventListener("DOMContentLoaded", () => {
        
        // --- Side Tabs Logic ---
        const sideTabsList = document.getElementById('side-tabs-list');
        sideTabsList?.addEventListener('click', (e) => {
            const trigger = e.target.closest('.side-tab-trigger');
            if (!trigger) return;
            sideTabsList.querySelectorAll('.side-tab-trigger').forEach(t => t.classList.remove('active'));
            trigger.classList.add('active');
            const tabId = trigger.dataset.tab;
            document.querySelectorAll('.side-tab-content').forEach(c => {
                c.classList.toggle('hidden', c.id !== `${tabId}-content`);
            });
        });

        // --- Chat Logic ---
        const startChatButton = document.getElementById('start-chat-button');
        const chatActiveView = document.getElementById('chat-active-view');
        const chatMessagesContainer = document.getElementById('chat-messages-container');
        const chatForm = document.getElementById('chat-form');
        const chatInput = document.getElementById('chat-input');
        const chatSendBtn = document.getElementById('chat-send-btn');

        const addChatMessage = (role, content) => {
            const isBot = role === 'bot';
            const messageDiv = document.createElement('div');
            messageDiv.className = `flex gap-3 py-6 px-4 rounded-[16px] w-full ${isBot ? 'bg-[rgba(210,74,201,0.20)]' : 'bg-[#7A43A44D] flex-row-reverse'}`;
            const heading = isBot ? 'AI Assistant' : 'You';
            const iconSrc = isBot ? './assets/images/icons/chat-message-icon.svg' : './assets/images/profile.png';
            const textAlign = isBot ? 'text-left' : 'text-right';
            messageDiv.innerHTML = `<img src="${iconSrc}" class="flex-shrink-0 w-8 h-8 rounded-full" /><div class="flex flex-col gap-2 w-full"><h1 class="text-xl font-medium ${textAlign}">${heading}</h1><p class="text-sm whitespace-pre-wrap break-words w-full">${content}</p></div>`;
            chatMessagesContainer.appendChild(messageDiv);
            chatMessagesContainer.scrollTop = chatMessagesContainer.scrollHeight;
        };

        const resetChat = () => {
            chatMessagesContainer.innerHTML = '';
            addChatMessage('bot', 'Hello! How can I assist you today?');
        };

        startChatButton.addEventListener('click', () => {
            document.getElementById('chat-start-view').classList.add('hidden');
            chatActiveView.classList.remove('hidden');
            resetChat();
        });
        document.getElementById('chat-refresh-btn').addEventListener('click', resetChat);
        chatForm.addEventListener('submit', (e) => {
            e.preventDefault();
            const userInput = chatInput.value.trim();
            if (!userInput) return;
            addChatMessage('user', userInput);
            chatInput.value = '';
            chatSendBtn.disabled = true;
            setTimeout(() => {
                addChatMessage('bot', `This is a simulated response to: "${userInput}"`);
                chatSendBtn.disabled = false;
            }, 1500);
        });

        // --- Note-taking Logic ---
        const addNoteBtn = document.getElementById('add-note-btn');
        const noteTitleInput = document.getElementById('note-title-input');
        const notesListContainer = document.getElementById('notes-list-container');
        addNoteBtn.addEventListener('click', () => {
            const title = noteTitleInput.value.trim();
            if (!title) return;
            const noteEl = document.createElement('div');
            noteEl.className = 'flex justify-between items-center px-4 py-2 bg-gradient-to-r from-[#7A43A4] to-[#6049BC] rounded-xl';
            noteEl.innerHTML = `<span class="font-medium text-white">${title}</span><div class="flex items-center gap-2 text-sm text-white/80"><span>${dayjs().format('hh:mm A, MMM D')}</span><button class="delete-note-btn"><svg class="w-4 h-4 hover:text-red-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path></svg></button></div>`;
            notesListContainer.prepend(noteEl);
            noteTitleInput.value = '';
        });
        notesListContainer.addEventListener('click', (e) => {
            if (e.target.closest('.delete-note-btn')) {
                e.target.closest('.flex.justify-between').remove();
            }
        });

        // --- Summary Accordion Logic ---
        document.querySelectorAll('.accordion-trigger').forEach(button => {
            button.addEventListener('click', () => {
                const content = button.nextElementSibling;
                const icon = button.querySelector('svg');
                content.classList.toggle('hidden');
                icon.classList.toggle('rotate-180');
            });
        });

        // --- Flashcard Logic ---
        const flashcardFlipper = document.getElementById('flashcard-flipper');
        document.getElementById('generate-flashcards-btn').addEventListener('click', () => {
            document.getElementById('flashcard-step-1').classList.add('hidden');
            document.getElementById('flashcard-step-2').classList.remove('hidden');
        });
        flashcardFlipper.addEventListener('click', () => {
            flashcardFlipper.classList.toggle('is-flipped');
        });

        // --- Quiz Logic ---
        let quizCurrentIndex = 0;
        let quizAnswers = {};
        const showQuizScreen = (screenName) => {
            ['quiz-form-screen', 'quiz-loading-screen', 'quiz-active-screen', 'quiz-result-screen'].forEach(id => document.getElementById(id)?.classList.add('hidden'));
            document.getElementById(screenName)?.classList.remove('hidden');
        };
        const showQuestion = (index) => {
            quizCurrentIndex = index;
            const questions = document.querySelectorAll('#quiz-component .quiz-question-container');
            questions.forEach((q, i) => q.classList.toggle('hidden', i !== index));
            const stepper = document.getElementById('quiz-stepper');
            stepper.innerHTML = Array.from({ length: questions.length }, (_, i) => `<div class="h-2 flex-1 rounded-full ${i <= index ? 'bg-purple-600' : 'bg-gray-700'}"></div>`).join('');
            const currentQuestionEl = questions[index];
            currentQuestionEl.querySelectorAll('.quiz-option').forEach(btn => btn.classList.remove('selected'));
            if (quizAnswers[index]) currentQuestionEl.querySelector(`[data-option="${quizAnswers[index]}"]`)?.classList.add('selected');
            document.getElementById('quiz-prev-btn').disabled = index === 0;
            document.getElementById('quiz-next-btn').textContent = index === questions.length - 1 ? 'Finish' : 'Next';
        };
        document.getElementById('generate-quiz-btn')?.addEventListener('click', () => {
            showQuizScreen('quiz-loading-screen');
            setTimeout(() => { showQuizScreen('quiz-active-screen'); showQuestion(0); }, 1500);
        });
        document.getElementById('quiz-next-btn')?.addEventListener('click', () => {
            const total = document.querySelectorAll('#quiz-component .quiz-question-container').length;
            if (quizCurrentIndex < total - 1) showQuestion(quizCurrentIndex + 1);
            else {
                const questions = document.querySelectorAll('#quiz-component .quiz-question-container');
                let score = 0;
                questions.forEach((q, i) => { if (q.dataset.correctAnswer === quizAnswers[i]) score++; });
                document.getElementById('quiz-score-display').textContent = `${score} / ${questions.length}`;
                showQuizScreen('quiz-result-screen');
            }
        });
        document.getElementById('quiz-prev-btn')?.addEventListener('click', () => { if (quizCurrentIndex > 0) showQuestion(quizCurrentIndex - 1); });
        document.querySelectorAll('#quiz-component .quiz-option').forEach(btn => btn.addEventListener('click', (e) => {
            quizAnswers[quizCurrentIndex] = e.target.dataset.option;
            const parent = e.target.closest('.quiz-question-container');
            parent.querySelectorAll('.quiz-option').forEach(b => b.classList.remove('selected'));
            e.target.classList.add('selected');
        }));
        document.getElementById('restart-quiz-btn')?.addEventListener('click', () => {
            quizCurrentIndex = 0; quizAnswers = {}; showQuizScreen('quiz-form-screen');
        });
    });
    </script>
</body>
</html>